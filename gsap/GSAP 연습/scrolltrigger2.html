<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!-- CSS -->
  <style>
    * {margin: 0; padding: 0; box-sizing: border-box;}
    body {background: skyblue
      ;}
    .fix {position: fixed; font-size: 30px;}
    .box {width: 300px;}
    .box1, .box3 {height: 2000px;}
    .box2 {background: blue; position: relative; width: 100%; height: 200px;}
    .box2-1 svg {width: 300px; height: auto; transform: rotateY(180deg); position: absolute;}
    .box2-2 svg {width: 300px; height: auto; transform: rotateY(180deg); position: absolute;}
    .box2-2 g {fill: #ccc; }
  </style>
</head>
<body>
  <div class="fix"></div>
  <div class="box box1"></div>
  <div class="box box2">
    <div class="box box2-1">
      <?xml version="1.0" standalone="no"?>
    <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
    "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
     width="640.000000pt" height="320.000000pt" viewBox="0 0 1280.000000 640.000000"
     preserveAspectRatio="xMidYMid meet">
    <g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"
    fill="#fff" stroke="none">
    <path d="M10290 5793 c-101 -136 -200 -331 -236 -468 -23 -85 -27 -121 -27
    -240 -1 -99 4 -160 16 -208 9 -38 17 -71 17 -74 0 -10 -2276 5 -2550 17 -251
    11 -280 14 -327 35 -148 66 -218 202 -243 470 -17 177 -27 221 -57 245 -31 24
    -54 25 -93 5 -67 -34 -215 -186 -409 -418 -68 -81 -124 -147 -126 -147 -2 0
    -93 18 -202 40 -333 68 -616 144 -1288 345 -334 100 -552 145 -865 177 -160
    16 -617 16 -780 0 -906 -92 -1666 -400 -2319 -941 -164 -136 -420 -393 -503
    -504 -239 -322 -336 -681 -282 -1044 60 -408 296 -780 608 -957 l75 -43 -53
    -16 c-67 -22 -132 -77 -147 -125 -22 -76 22 -162 168 -321 94 -101 167 -154
    278 -200 363 -152 1085 -173 1993 -61 428 54 1038 173 1454 284 l126 34 7 -49
    c47 -339 769 -905 1380 -1081 317 -91 534 -46 624 131 l20 38 -50 38 c-73 56
    -215 210 -292 316 -58 81 -207 355 -207 381 0 4 17 1 38 -8 359 -157 846 -143
    945 26 23 38 24 117 3 157 -13 27 -19 29 -118 41 -328 39 -463 151 -503 417
    -8 55 -15 136 -15 180 l0 80 283 89 c1231 388 1912 644 2532 951 471 233 788
    431 1199 747 20 16 25 13 146 -79 375 -284 763 -508 1215 -701 197 -84 1019
    -412 1032 -412 9 0 37 40 31 44 -2 2 -49 41 -105 89 -96 81 -256 206 -743 582
    -499 385 -794 664 -1006 951 -30 40 -62 75 -72 78 -33 11 -122 107 -158 172
    -53 94 -98 238 -149 477 -58 267 -78 348 -118 470 -24 75 -35 97 -49 97 -11 0
    -48 -40 -98 -107z"/>
    </g>
    </svg>
    </div>
    <div class="box box2-2">
      <?xml version="1.0" standalone="no"?>
    <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
     "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
     width="640.000000pt" height="320.000000pt" viewBox="0 0 1280.000000 640.000000"
     preserveAspectRatio="xMidYMid meet">
    <g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"
    fill="#fff" stroke="none">
    <path d="M10290 5793 c-101 -136 -200 -331 -236 -468 -23 -85 -27 -121 -27
    -240 -1 -99 4 -160 16 -208 9 -38 17 -71 17 -74 0 -10 -2276 5 -2550 17 -251
    11 -280 14 -327 35 -148 66 -218 202 -243 470 -17 177 -27 221 -57 245 -31 24
    -54 25 -93 5 -67 -34 -215 -186 -409 -418 -68 -81 -124 -147 -126 -147 -2 0
    -93 18 -202 40 -333 68 -616 144 -1288 345 -334 100 -552 145 -865 177 -160
    16 -617 16 -780 0 -906 -92 -1666 -400 -2319 -941 -164 -136 -420 -393 -503
    -504 -239 -322 -336 -681 -282 -1044 60 -408 296 -780 608 -957 l75 -43 -53
    -16 c-67 -22 -132 -77 -147 -125 -22 -76 22 -162 168 -321 94 -101 167 -154
    278 -200 363 -152 1085 -173 1993 -61 428 54 1038 173 1454 284 l126 34 7 -49
    c47 -339 769 -905 1380 -1081 317 -91 534 -46 624 131 l20 38 -50 38 c-73 56
    -215 210 -292 316 -58 81 -207 355 -207 381 0 4 17 1 38 -8 359 -157 846 -143
    945 26 23 38 24 117 3 157 -13 27 -19 29 -118 41 -328 39 -463 151 -503 417
    -8 55 -15 136 -15 180 l0 80 283 89 c1231 388 1912 644 2532 951 471 233 788
    431 1199 747 20 16 25 13 146 -79 375 -284 763 -508 1215 -701 197 -84 1019
    -412 1032 -412 9 0 37 40 31 44 -2 2 -49 41 -105 89 -96 81 -256 206 -743 582
    -499 385 -794 664 -1006 951 -30 40 -62 75 -72 78 -33 11 -122 107 -158 172
    -53 94 -98 238 -149 477 -58 267 -78 348 -118 470 -24 75 -35 97 -49 97 -11 0
    -48 -40 -98 -107z"/>
    </g>
    </svg>
    </div>
  </div>
  <div class="box box3"></div>

  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.1/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.1/ScrollTrigger.min.js"></script>
  <!-- JavaScript -->
  <script>
    $(function(){
      gsap.registerPlugin(ScrollTrigger);

      // ❤❤❤ ScrollTrigger 기본
      // gsap.to(".box2", {
      //   scrollTrigger: ".box2", x: 400, duration: 2
      // });

      // ❤❤❤ 토글액션 (toggleActions)
      // gsap.to(".box2", {
      //   scrollTrigger: {
      //     trigger: ".box2",
      //     toggleActions: "restart none reverse none"
      //     // onEnter, onLeave, onEnterBack, onLeaveBack
      //     // 스크롤 요소의 위치에 따라서 네 가지 액션이 실행되는 것이다.
      //   },
      //   x: 400, duration: 2,
      // });

      ScrollTrigger.create({
        onEnter: ONENTER,
        onLeave: ONLEAVE,
        onEnterBack: ONENTERBACK,
        onLeaveBack: ONLEAVEBACK
      });

      BODY = document.querySelector('body')
      function ONENTER() {
        $('.fix').text('onEnter');
      }
      function ONLEAVE() {
        $('.fix').text('onLeave');
      }
      function ONENTERBACK() {
        $('.fix').text('onEnterBack');
      }
      function ONLEAVEBACK() {
        $('.fix').text('onLeaveBack');
      }

      // ❤❤❤ 시작 & 종료 지점 선택
      // 애니메이션이 실행되는 지점은 화면의 하단에 해당 요소의 상단 부분이 보일 때이다.
      // 이 두 지점을 바꾸고 싶다면 start 메서드를 써야 한다.
      // 하지만 그전에 인디케이터를 표시하기 위해 markers: true를 추가한다.
      // 그러면 scroller-start가 화면 최하단에 있고 start가 요소의 상단에 있는 것이 확인된다.
      // gsap.to(".box2", {
      //   scrollTrigger: {
      //     trigger: ".box2",
      //     toggleActions: "resume pause reset pause",
      //     markers: true,
      //     start: "top center",
      //     // 화면의 하단 마커를 중앙으로 옮기려면 start: "top center"를 추가한다.
      //     // 요소의 하단에서 start하고 싶다면 start: "bottom center"로 바꾼다.
      //     // 종료 지점은 start 대신 end를 쓴다.
      //   },
      //   x: 400, duration: 2,
      // });

      // ❤❤❤ Scrub (되감기)
      //  스크롤이 요소 이전으로 돌아가면 애니메이션 역시 되돌아가는 기능을 말한다.
      // 즉 애니메이션을 재사용 할 수 있는 기능으로 일회성 애니메이션 효과가 아닌 곳에 사용할 수 있다.
      // scrub: true를 입력해도 되고 true 대신 수치를 입력하는 것이 더 부드럽다.
      // gsap.to(".box2-1", {
      //   scrollTrigger: {
      //     trigger: ".box2",
      //     markers: true,
      //     start: "top center",
      //     scrub: true,
      //   },
      //   x: 400, duration: 4,
      // });
      // gsap.to(".box2-2", {
      //   scrollTrigger: {
      //     trigger: ".box2",
      //     markers: true,
      //     start: "top center",
      //     scrub: 3,
      //   },
      //   x: 400, duration: 4,
      // });

      // ❤❤❤ Pining (화면고정)
      // 화면에 고정한다.
      // 사용법은 pin: true, 혹은 pin: "요소의 class/id명"이다.
      gsap.to(".box2-1", {
        scrollTrigger: {
        trigger: ".box2",
        markers: true,
        start: "top center",
        scrub: true,
        pin: true,
        },
        x: 200,
      });
      gsap.to(".box2-2", {
        scrollTrigger: {
        trigger: ".box2",
        markers: true,
        start: "top center",
        scrub: 3,
        pin: true,
        },
        x: 200,
      });

    });
  </script>
</body>
</html>